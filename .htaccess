RewriteEngine on
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

ErrorDocument 503 /maintenance/index.html
<IfModule mod_rewrite.c>    
    RewriteEngine On
    RewriteCond %{REQUEST_URI} !^/maintenance/
    RewriteCond %{REQUEST_URI} !^/images/
    RewriteCond %{REQUEST_URI} !^/functions/
    RewriteCond %{REQUEST_URI} !^/data/
    RewriteCond %{REQUEST_URI} !=/common/style.css
    RewriteCond %{REQUEST_URI} !=/maintenance/maintenance-style.css
    RewriteCond %{DOCUMENT_ROOT}/maintenance/index.html -f
    
    RewriteRule ^.*$ - [R=503,L]
</IfModule>